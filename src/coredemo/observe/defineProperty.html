<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <div id="app"></div>
  <script>
    // 使用object.defineProperty允许精确地添加或修改对象的属性。通过赋值操作添加的普通属性是可枚举的，
    // 在枚举对象属性时会被枚举到（for...in 或 Object.keys 方法），可以改变这些属性的值，也可以删除这些属性。
    // 这个方法允许修改默认的额外选项（或配置）。默认情况下，使用 Object.defineProperty() 添加的属性值是不可修改（immutable）的。
    // =============================================
    // let obj = {}
    // Object.defineProperty(obj, 'name', {
    //   enumerable: false,
    //   value: 'zs',
    //   writable: true   // 设置为false 则value无法改变
    // })
    // obj.name = 'ls'
    // console.log(obj)
    // ======================================================

    //=================================================================================================
      let obj = {}
      let tem = null
      Object.defineProperty(obj, 'name', {
        get: function () {
          console.log('我被读取了')
          return tem
        },
        set: function (val) {
          tem = val
          console.log('我被设置了')
        },
      })
      obj.name = 'ls' // 控制台会打印我被设置了
      document.querySelector('#app').innerHTML = obj.name // 控制台会打印我被读取了
      // 当在控制台修改obj.name属性时 会调用set方法数据发生改变
    //=================================================================================================

  </script>
</body>
</html>